(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{483:function(e,t,s){"use strict";s.r(t);var a=s(29),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"使用vuepress搭建博客"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用vuepress搭建博客"}},[e._v("#")]),e._v(" 使用VuePress搭建博客")]),e._v(" "),s("p",[e._v("VuePress 网站是一个由 Vue (opens new window)、Vue Router (opens new window)和 webpack (opens new window)驱动的单页应用。选择VuePress的原因因为经常使用Vue。")]),e._v(" "),s("h2",{attrs:{id:"开始搭建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始搭建"}},[e._v("#")]),e._v(" 开始搭建")]),e._v(" "),s("p",[e._v("使用yarn来进行演示。")]),e._v(" "),s("blockquote",[s("p",[e._v("如果你的现有项目依赖了 webpack 3.x，官方推荐使用 Yarn (opens new window)而不是 npm 来安装 VuePress。因为在这种情形下，npm 会生成错误的依赖树。")])]),e._v(" "),s("h3",{attrs:{id:"准备工作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[e._v("#")]),e._v(" 准备工作")]),e._v(" "),s("ol",[s("li",[e._v("安装"),s("a",{attrs:{href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"}},[e._v("node"),s("OutboundLink")],1)])]),e._v(" "),s("blockquote",[s("p",[e._v("VuePress 需要 Node.js (opens new window)>= 8.6")])]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("安装yarn")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm install yarn -g\n")])])]),s("p",[e._v("准备工作完成，接下来开始搭建。")]),e._v(" "),s("h3",{attrs:{id:"初始化项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#初始化项目"}},[e._v("#")]),e._v(" 初始化项目")]),e._v(" "),s("ol",[s("li",[e._v("创建并进入一个新目录")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir blog && cd blog\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("使yarn进行初始化")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn init\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("将 VuePress 安装为本地依赖")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn add -D vuepress\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[e._v("创建你的第一篇文档")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("mkdir docs && echo '# Hello VuePress' > docs/README.md\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[e._v("在package.json 中添加一些 scripts")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('{\n  "scripts": {\n    "docs:dev": "vuepress dev docs",\n    "docs:build": "vuepress build docs"\n  }\n}\n')])])]),s("ol",{attrs:{start:"6"}},[s("li",[e._v("在本地启动服务器")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn docs:dev\n")])])]),s("p",[e._v("VuePress 会在 http://localhost:8080 (opens new window)启动一个热重载的开发服务器。")]),e._v(" "),s("p",[e._v("现在已经有了一个简单可用的 VuePress 文档。接下来，了解一下推荐的 目录结构 和 VuePress 中的 基本配置。")]),e._v(" "),s("h3",{attrs:{id:"目录结构"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#目录结构"}},[e._v("#")]),e._v(" 目录结构")]),e._v(" "),s("p",[e._v("VuePress 遵循 “约定优于配置” 的原则，推荐的目录结构如下：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(".\n├── docs\n│   ├── .vuepress (可选的)\n│   │   ├── components (可选的)\n│   │   ├── theme (可选的)\n│   │   │   └── Layout.vue\n│   │   ├── public (可选的)\n│   │   ├── styles (可选的)\n│   │   │   ├── index.styl\n│   │   │   └── palette.styl\n│   │   ├── templates (可选的, 谨慎配置)\n│   │   │   ├── dev.html\n│   │   │   └── ssr.html\n│   │   ├── config.js (可选的)\n│   │   └── enhanceApp.js (可选的)\n│   │ \n│   ├── README.md\n│   ├── guide\n│   │   └── README.md\n│   └── config.md\n│ \n└── package.json\n")])])]),s("p",[e._v("很多文件是可选的，我们自己生成目录，不涉及的文件可以省略掉。如下基本配置。")]),e._v(" "),s("h3",{attrs:{id:"基本配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本配置"}},[e._v("#")]),e._v(" 基本配置")]),e._v(" "),s("ol",[s("li",[e._v("生成基本目录，创建"),s("code",[e._v(".vuepress")]),e._v("如下：")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(".\n├─ docs\n│  ├─ README.md\n│  └─ .vuepress\n│     └─ config.js\n└─ package.json\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("配置"),s("code",[e._v(".vuepress/config.js")]),e._v("文件：")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  title: '个人博客',\n  description: '个人博客，用于技术博客、技术分享、文章整理。'\n}\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("配置"),s("code",[e._v("package.json")]),e._v("文件：")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('"scripts": {\n  "start": "npm run dev",\n  "dev": "vuepress dev docs",\n  "build": "vuepress build docs"\n}\n')])])]),s("ol",{attrs:{start:"4"}},[s("li",[e._v("在"),s("code",[e._v(".vuepress/README.md")]),e._v("添加内容，并运行"),s("code",[e._v("yarn start")]),e._v("：\n"),s("img",{attrs:{src:"/blog/img/vuepress.png",alt:"README效果图"}})])]),e._v(" "),s("h2",{attrs:{id:"进一步完善配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进一步完善配置"}},[e._v("#")]),e._v(" 进一步完善配置")]),e._v(" "),s("p",[e._v("进行"),s("a",{attrs:{href:"https://www.vuepress.cn/config/",target:"_blank",rel:"noopener noreferrer"}},[e._v("vuepress配置"),s("OutboundLink")],1),e._v("。\n我们使用vuepress的"),s("a",{attrs:{href:"https://www.vuepress.cn/theme/default-theme-config.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("默认主题"),s("OutboundLink")],1),e._v("，配置首页、导航栏等。")]),e._v(" "),s("h3",{attrs:{id:"首页"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#首页"}},[e._v("#")]),e._v(" 首页")]),e._v(" "),s("p",[e._v("默认的主题提供了一个首页（Homepage）的布局 ("),s("a",{attrs:{href:"https://www.vuepress.cn/",target:"_blank",rel:"noopener noreferrer"}},[e._v("用于 这个网站的主页"),s("OutboundLink")],1),e._v(")。想要使用它，需要在你的根级 README.md 的 "),s("a",{attrs:{href:"https://jekyllrb.com/docs/front-matter/",target:"_blank",rel:"noopener noreferrer"}},[e._v("YAML front matter"),s("OutboundLink")],1),e._v(" 指定 home: true。以下是一个如何使用的例子：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("---\nhome: true\nheroImage: /hero.png\nheroText: Hero 标题\ntagline: Hero 副标题\nactionText: 快速上手 →\nactionLink: /zh/guide/\nfeatures:\n- title: 简洁至上\n  details: 以 Markdown 为中心的项目结构，以最少的配置帮助你专注于写作。\n- title: Vue驱动\n  details: 享受 Vue + webpack 的开发体验，在 Markdown 中使用 Vue 组件，同时可以使用 Vue 来开发自定义主题。\n- title: 高性能\n  details: VuePress 为每个页面预渲染生成静态的 HTML，同时在页面被加载的时候，将作为 SPA 运行。\nfooter: MIT Licensed | Copyright © 2018-present Evan You\n---\n")])])]),s("h3",{attrs:{id:"导航栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导航栏"}},[e._v("#")]),e._v(" 导航栏")]),e._v(" "),s("p",[e._v("导航栏可能包含你的页面标题、搜索框、 导航栏链接、多语言切换、仓库链接，它们均取决于你的配置。在"),s("code",[e._v(".vuepress/config.js")]),e._v("文件中进行配置：")]),e._v(" "),s("ol",[s("li",[e._v("导航栏logo")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  themeConfig: {\n    logo: '/assets/img/logo.png',\n  }\n}\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("导航栏链接")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  themeConfig: {\n    nav: [\n      { text: 'Home', link: '/' },\n      { text: 'Guide', link: '/guide/' },\n      { text: 'External', link: 'https://google.com' },\n    ]\n  }\n}\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("侧边栏\n创建bar.md和foo.md。")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v(".\n├── docs\n│   ├── .vuepress\n│   │   └──config.js\n│   ├── bar.md\n│   ├── foo.md\n│   └── README.md\n├── package.json\n└── yarn.lock\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[s("code",[e._v("yarn statr")]),e._v("运行查看结果。\n"),s("img",{attrs:{src:"/blog/img/vuepress2.png",alt:"配置结果"}})])]),e._v(" "),s("h2",{attrs:{id:"主题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#主题"}},[e._v("#")]),e._v(" 主题")]),e._v(" "),s("p",[e._v("基本配置已经完成，我们可以找个喜欢的主题，让网站更加的好看。这里选择了"),s("a",{attrs:{href:"https://github.com/xugaoyi/vuepress-theme-vdoing",target:"_blank",rel:"noopener noreferrer"}},[e._v("vdoing"),s("OutboundLink")],1),e._v("。")]),e._v(" "),s("ol",[s("li",[e._v("安装：")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("yarn add vuepress-theme-vdoing -D\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("在"),s("code",[e._v(".vuepress/config.js")]),e._v("中配置使用主题：")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module.exports = {\n  theme: 'vdoing'\n}\n")])])]),s("p",[e._v("当前主题还有很多功能，自行探索。")]),e._v(" "),s("h2",{attrs:{id:"部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[e._v("#")]),e._v(" 部署")]),e._v(" "),s("p",[e._v("到这里我们就也可以发布了。这里部署方式"),s("a",{attrs:{href:"https://vuepress.vuejs.org/zh/guide/deploy.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网"),s("OutboundLink")],1),e._v("上有很多，这里我们通过GitHub Actions来进行发布。")]),e._v(" "),s("h3",{attrs:{id:"github-actions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#github-actions"}},[e._v("#")]),e._v(" GitHub Actions")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/features/actions",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Actions"),s("OutboundLink")],1),e._v(" 是 GitHub 的持续集成服务，于2018年10月推出。想了解的可以通过"),s("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub Actions 入门教程"),s("OutboundLink")],1),e._v("和"),s("a",{attrs:{href:"https://docs.github.com/cn/actions",target:"_blank",rel:"noopener noreferrer"}},[e._v("官网文档"),s("OutboundLink")],1),e._v("进行学习。")]),e._v(" "),s("ol",[s("li",[e._v("预备工作")])]),e._v(" "),s("p",[e._v("创建一个"),s("code",[e._v("gh-pages")]),e._v("分支并在github"),s("code",[e._v("Setting > Pages")]),e._v("下配置，用于构建分支。")]),e._v(" "),s("p",[s("img",{attrs:{src:"/blog/img/vuepress3.png",alt:"github截图"}})]),e._v(" "),s("ol",{attrs:{start:"2"}},[s("li",[e._v("config文件配置")])]),e._v(" "),s("p",[e._v("在"),s("code",[e._v("docs/.vuepress/config.js")]),e._v("中设置正确的"),s("code",[e._v("base")])]),e._v(" "),s("p",[e._v("如果你打算发布到"),s("code",[e._v("https://<USERNAME>.github.io/")]),e._v("，则可以省略这一步，因为 base 默认即是"),s("code",[e._v('"/"')])]),e._v(" "),s("p",[e._v("如果你打算发布到"),s("code",[e._v("https://<USERNAME>.github.io/<REPO>/")]),e._v("（也就是说你的仓库在"),s("code",[e._v("https://github.com/<USERNAME>/<REPO>")]),e._v("），则将"),s("code",[e._v("base")]),e._v(" 设置为"),s("code",[e._v('"/<REPO>/"')])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("base: '/blog/'\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[e._v("在项目跟目录下创建文件"),s("code",[e._v(".github/workflows/main.yml")]),e._v("，添加内容：")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("name: Publish Page\n\non:\n  push:\n    branches:\n      - master\n\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - name: Checkout\n        uses: actions/checkout@v2 \n        with:\n          persist-credentials: false\n\n      - name: Install and Build\n        run: |\n          npm install\n          npm run build\n      - name: Deploy \n        uses: JamesIves/github-pages-deploy-action@releases/v3\n        with:\n          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n          BRANCH: gh-pages\n          FOLDER: docs/.vuepress/dist\n\n")])])]),s("p",[e._v("在代码每次push的时候，GitHub Actions都会帮我们构建。可以在github"),s("code",[e._v("Actions")]),e._v("下查看构建结果。")]),e._v(" "),s("h2",{attrs:{id:"结语"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[e._v("#")]),e._v(" 结语")]),e._v(" "),s("p",[e._v("一个初始博客搭建完了，接下来就可以愉快的写博客了。")])])}),[],!1,null,null,null);t.default=r.exports}}]);